# language: ko

기능: 관리자 사용자 역할 변경 API

  # 실패 시나리오 (DB 변경 없음)
  시나리오: 성전이 없는 사용자를 회장으로 변경하면 실패한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 1의 역할을 "LEADER"로 변경한다
    그러면 Bad Request 에러가 반환된다

  시나리오: 이미 같은 역할인 사용자의 역할을 변경하면 실패한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 2의 역할을 "LEADER"로 변경한다
    그러면 Bad Request 에러가 반환된다

  시나리오: MASTER 역할로 변경하려고 하면 실패한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 1의 역할을 "MASTER"로 변경한다
    그러면 Bad Request 에러가 반환된다

  시나리오: 존재하지 않는 사용자의 역할을 변경하면 실패한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 999의 역할을 "LEADER"로 변경한다
    그러면 Not Found 에러가 반환된다

  시나리오: 일반 사용자가 역할을 변경하면 권한 에러가 발생한다
    먼저 사용자가 로그인되어 있다
    만일 사용자가 사용자 4의 역할을 "LEADER"로 변경한다
    그러면 인증 에러가 반환된다

  시나리오: 인증되지 않은 사용자가 역할을 변경하면 실패한다
    만일 인증 없이 사용자 4의 역할을 "LEADER"로 변경한다
    그러면 인증 에러가 반환된다

  # 성공 시나리오 (DB 변경 발생, 순서 중요)
  시나리오: 마스터가 수원 성전 사용자를 회장으로 변경한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 4의 역할을 "LEADER"로 변경한다
    그러면 역할 변경이 성공한다
    그리고 변경된 역할이 "LEADER"이다

  시나리오: 마스터가 안양 성전 사용자를 회장으로 변경하면 기존 회장이 강등된다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 5의 역할을 "LEADER"로 변경한다
    그러면 역할 변경이 성공한다
    그리고 변경된 역할이 "LEADER"이다
    그리고 기존 회장이 강등되어 반환된다

  시나리오: 마스터가 회장을 일반으로 변경한다
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 5의 역할을 "USER"로 변경한다
    그러면 역할 변경이 성공한다
    그리고 변경된 역할이 "USER"이다

  # 데이터 복원 (다른 feature 테스트에 영향 방지)
  시나리오: 테스트 데이터 복원 - 수원유저 일반으로
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 4의 역할을 "USER"로 변경한다
    그러면 역할 변경이 성공한다

  시나리오: 테스트 데이터 복원 - 리더유저 회장으로
    먼저 마스터가 로그인되어 있다
    만일 마스터가 사용자 2의 역할을 "LEADER"로 변경한다
    그러면 역할 변경이 성공한다
